<ion-card>
  <ion-item>
    <ion-grid>
      <ion-row>
        <ion-col>
          <ion-badge color="danger">{{product.productPriceBeforeDiscount | discount:product.productPrice}}</ion-badge>
          <img class="productImage"
            src="http://theflyingbasket.com/assets/productimages/{{product.id}}/{{product.productImage1}}"
            (click)="showDetails(product.id)">
        </ion-col>
        <ion-col>
          <ion-grid>
            <ion-row>
            </ion-row>
            <ion-row *ngIf="productVarieties.length == 0  && product.productPriceBeforeDiscount!=product.productPrice" class="ion-text-center">
              <span class="productPrice" style="text-decoration: line-through;">Rs.
                {{product.productPriceBeforeDiscount}}/-</span>
            </ion-row>
            <!-- <ion-row *ngIf="productVarieties != null; else priceActual">
              <form class="form" [formGroup]="quantityForm">
                <ion-select placeholder="Choose quantity" okText="Okay" cancelText="Dismiss">
                  <ion-select-option *ngFor="let productVariety of productVarieties" value="productVariety"
                    formControlName="quantity">
                    {{productVariety.productQuantity}} {{productVariety.quantityType}} - {{productVariety.productPrice}}
                  </ion-select-option>
                </ion-select>
              </form>
            </ion-row> -->
            <ion-row *ngIf="productVarieties.length != 0; else priceActual">
              <mat-label style="padding-top: 2px;">Choose Quantity</mat-label>
              <mat-form-field>
                <!-- <mat-label>Choose Quantity</mat-label> -->
                <select matNativeControl required>
                  <option *ngFor="let productVariety of productVarieties" value="productVariety.id">
                    {{productVariety.productQuantity}} {{productVariety.quantityType}} - Rs. {{productVariety.productPrice}}/-
                  </option>
                </select>
              </mat-form-field>
            </ion-row>
            <ng-template #priceActual>
              <ion-row class="ion-text-center">
                Rs. {{product.productPrice}}/-
              </ion-row>
            </ng-template>
            <ion-row *ngIf="globalVariable.myCart.getQuantity(product) == 0; else inCart">
              <ion-button (click)="addToBasket()">Add to basket <ion-icon name="basket"></ion-icon>
              </ion-button>
            </ion-row>
            <ng-template #inCart>
              <ion-row>
                <ion-button (click)="changeQuantity(-1)" color="warning"><ion-text color="dark">-</ion-text></ion-button>
                <ion-text>{{globalVariable.myCart.getQuantity(product)}} in &nbsp;<ion-icon name="basket"></ion-icon></ion-text>
                <ion-button (click)="changeQuantity(1)" color="secondary"><ion-text color="dark">+</ion-text></ion-button>
              </ion-row>
            </ng-template>
          </ion-grid>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-item>

  <ion-card-content>
    {{product.productName}}
  </ion-card-content>
</ion-card>